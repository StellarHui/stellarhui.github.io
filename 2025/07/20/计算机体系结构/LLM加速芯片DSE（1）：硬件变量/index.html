<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>LLM加速芯片DSE（1）：硬件变量 | 皓月星辰</title><meta name="author" content="摘星的辉"><meta name="copyright" content="摘星的辉"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="梳理多芯粒系统DSE的硬件变量，以及评估其性能（执行时间），面积，功耗（或者散热），成本的方法、工具。">
<meta property="og:type" content="article">
<meta property="og:title" content="LLM加速芯片DSE（1）：硬件变量">
<meta property="og:url" content="https://stellarhui.github.io/2025/07/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/LLM%E5%8A%A0%E9%80%9F%E8%8A%AF%E7%89%87DSE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%A1%AC%E4%BB%B6%E5%8F%98%E9%87%8F/">
<meta property="og:site_name" content="皓月星辰">
<meta property="og:description" content="梳理多芯粒系统DSE的硬件变量，以及评估其性能（执行时间），面积，功耗（或者散热），成本的方法、工具。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://stellarhui.github.io/img/favicon.jpg">
<meta property="article:published_time" content="2025-07-20T11:23:28.855Z">
<meta property="article:modified_time" content="2025-07-29T05:16:54.732Z">
<meta property="article:author" content="摘星的辉">
<meta property="article:tag" content="设计空间探索">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://stellarhui.github.io/img/favicon.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "LLM加速芯片DSE（1）：硬件变量",
  "url": "https://stellarhui.github.io/2025/07/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/LLM%E5%8A%A0%E9%80%9F%E8%8A%AF%E7%89%87DSE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%A1%AC%E4%BB%B6%E5%8F%98%E9%87%8F/",
  "image": "https://stellarhui.github.io/img/favicon.jpg",
  "datePublished": "2025-07-20T11:23:28.855Z",
  "dateModified": "2025-07-29T05:16:54.732Z",
  "author": [
    {
      "@type": "Person",
      "name": "摘星的辉",
      "url": "https://stellarhui.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.jpg"><link rel="canonical" href="https://stellarhui.github.io/2025/07/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/LLM%E5%8A%A0%E9%80%9F%E8%8A%AF%E7%89%87DSE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%A1%AC%E4%BB%B6%E5%8F%98%E9%87%8F/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'LLM加速芯片DSE（1）：硬件变量',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/font.css"><meta name="generator" content="Hexo 7.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/favicon.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/ZJU%E8%AF%BE%E7%A8%8B/"><i class="fa-fw fas fa-book"></i><span> ZJU课程</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-lightbulb"></i><span> 核心知识</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/"><i class="fa-fw fas fa-microchip"></i><span> 计算机体系结构</span></a></li><li><a class="site-page child" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"><i class="fa-fw fas fa-network-wired"></i><span> 计算机网络</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/%E6%95%B0%E5%AD%A6/"><i class="fa-fw fas fa-square-root-variable"></i><span> 数学</span></a></div><div class="menus_item"><a class="site-page" href="/categories/%E6%9D%82%E9%A1%B9/"><i class="fa-fw fas fa-ellipsis"></i><span> 杂项</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">皓月星辰</span></a><a class="nav-page-title" href="/"><span class="site-name">LLM加速芯片DSE（1）：硬件变量</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/ZJU%E8%AF%BE%E7%A8%8B/"><i class="fa-fw fas fa-book"></i><span> ZJU课程</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-lightbulb"></i><span> 核心知识</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/"><i class="fa-fw fas fa-microchip"></i><span> 计算机体系结构</span></a></li><li><a class="site-page child" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"><i class="fa-fw fas fa-network-wired"></i><span> 计算机网络</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/%E6%95%B0%E5%AD%A6/"><i class="fa-fw fas fa-square-root-variable"></i><span> 数学</span></a></div><div class="menus_item"><a class="site-page" href="/categories/%E6%9D%82%E9%A1%B9/"><i class="fa-fw fas fa-ellipsis"></i><span> 杂项</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">LLM加速芯片DSE（1）：硬件变量</h1><div class="post-header-tags"><a class="post-tag" href="/tags/%E8%AE%BE%E8%AE%A1%E7%A9%BA%E9%97%B4%E6%8E%A2%E7%B4%A2/"><i class="fas fa-tag"></i>设计空间探索</a></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-07-20T11:23:28.855Z" title="发表于 2025-07-20 19:23:28">2025-07-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-07-29T05:16:54.732Z" title="更新于 2025-07-29 13:16:54">2025-07-29</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/">计算机体系结构</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">1.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>5分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="LLM推理加速芯片DSE（1）：硬件变量"><a href="#LLM推理加速芯片DSE（1）：硬件变量" class="headerlink" title="LLM推理加速芯片DSE（1）：硬件变量"></a>LLM推理加速芯片DSE（1）：硬件变量</h1><p>设计芯片就像“盖楼”：在给定“地皮面积”（或者预算成本）的约束下，怎么规划盖楼，会使得性能（或者某个指标）最优？这就是DSE的意义。考虑片上面积给定的约束条件，有3类资源会占据片上面积：计算资源、存储资源、互联资源，因此DSE的工作经常将它们作为变量进行设计空间探索。这就是<strong>硬件变量</strong>。</p>
<blockquote>
<p><strong>评估指标</strong>：性能（执行时间），面积，功耗（或者散热），成本。</p>
<p><strong>评估方法</strong>：（A） 使用仿真器或者真机跑数据；（B）使用论文中的model进行量化计算。</p>
</blockquote>
<p>本节主要关注如何获取对应的性能、面积、功耗、成本<strong>数据</strong>。</p>
<h2 id="计算类"><a href="#计算类" class="headerlink" title="计算类"></a>计算类</h2><p>PE, CPU, GPU等。一般的<strong>性能评估方法</strong>是：（A.1）可以看微架构图，观察<strong>流水线的深度</strong>；（A.2）或者写verilog代码，运行仿真看最终消耗的<strong>cycle数目</strong>。</p>
<p>对于<strong>面积、功耗的评估</strong>，一般采用（A）写verilog代码，随后进行DC综合的方法。</p>
<p>对于<strong>成本的评估</strong>，需要细分PE的结构（多少MAC阵列，存储结构、控制单元的结构），然后使用（B）理论模型对各项进行估计并累加。</p>
<h2 id="存储类"><a href="#存储类" class="headerlink" title="存储类"></a>存储类</h2><p><strong>资源类别：</strong></p>
<table>
<thead>
<tr>
<th></th>
<th>SRAM</th>
<th>DRAM</th>
</tr>
</thead>
<tbody><tr>
<td><strong>性能</strong></td>
<td>（A）使用Cacti或NVSim仿真</td>
<td>（A）使用DRAMsim3或者ramlualtor2仿真</td>
</tr>
<tr>
<td><strong>面积</strong></td>
<td>（A）使用Cacti或NVSim仿真</td>
<td>（A）使用Cacti仿真</td>
</tr>
<tr>
<td><strong>功耗</strong></td>
<td>（A）使用Cacti或NVSim仿真</td>
<td>（A）使用DRAMsim3或者ramlualtor2仿真</td>
</tr>
<tr>
<td><strong>成本</strong></td>
<td>（B）看论文</td>
<td>（B）看论文</td>
</tr>
</tbody></table>
<p>使用Cacti和NVSim，可以得到一些常见配置的DRAM, SRAM的面积、功耗等数据。</p>
<ul>
<li>256KB SRAM相关数据：（来自NVSim）</li>
</ul>
<table>
<thead>
<tr>
<th>工艺 (nm)</th>
<th>22</th>
<th>32</th>
<th>45</th>
<th>65</th>
</tr>
</thead>
<tbody><tr>
<td>性能 (ps)</td>
<td>Read: 333.292, Write: 293.751</td>
<td>Read: 369.984, Write: 335.000</td>
<td>Read: 382.003, Write: 354.589</td>
<td>Read: 605.831, Write: 580.340</td>
</tr>
<tr>
<td>面积 (mm<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"></g><g data-mml-node="mn" transform="translate(33,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>)</td>
<td>0.174</td>
<td>0.371</td>
<td>0.734</td>
<td>1.532</td>
</tr>
<tr>
<td>功耗 (pJ per access)</td>
<td>Read: 63.733, Write: 60.251, Leak: 309.809 mW</td>
<td>Read: 98.298, Write: 92.862, Leak: 505.586 mW</td>
<td>Read: 163.025, Write: 153.712, Leak: 378.518 mW</td>
<td>Read: 296.696, Write: 279.795, Leak: 595.228 mW</td>
</tr>
<tr>
<td>带宽 (GB/s)</td>
<td>Read: 168.973, Write: 340.696</td>
<td>Read: 199.464, Write: 304.342</td>
<td>Read: 202.614, Write: 291.485</td>
<td>Read: 118.441, Write: 177.861</td>
</tr>
</tbody></table>
<ul>
<li>1GB DDR3 DRAM相关数据：（来自Cacti）</li>
</ul>
<table>
<thead>
<tr>
<th>工艺 (nm)</th>
<th>22</th>
<th>32</th>
<th>45</th>
<th>65</th>
</tr>
</thead>
<tbody><tr>
<td>性能 (ns)</td>
<td>17.25</td>
<td>20.12</td>
<td>22.9</td>
<td>29.6</td>
</tr>
<tr>
<td>面积 (mm<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"></g><g data-mml-node="mn" transform="translate(33,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>)</td>
<td>5.83</td>
<td>16.44</td>
<td>32.46</td>
<td>67.77</td>
</tr>
<tr>
<td>功耗 (nJ per access)</td>
<td>1.36</td>
<td>2.50</td>
<td>4.75</td>
<td>7.11</td>
</tr>
<tr>
<td>*带宽 (GB/s)</td>
<td>0.79</td>
<td>0.79</td>
<td>0.79</td>
<td>0.79</td>
</tr>
</tbody></table>
<blockquote>
<p>此处带宽采用<strong>带宽（GB/s）= 数据速率（MT/s） × 数据总线宽度（bit） / 8</strong>计算。</p>
</blockquote>
<ul>
<li>8GB 3D DRAM（4层堆叠，DDR3接口）相关数据：（来自Cacti）</li>
</ul>
<table>
<thead>
<tr>
<th>工艺 (nm)</th>
<th>22</th>
<th>32</th>
<th>45</th>
<th>65</th>
</tr>
</thead>
<tbody><tr>
<td>性能 (ns)</td>
<td>15.21</td>
<td>20.70</td>
<td>23.44</td>
<td>30.11</td>
</tr>
<tr>
<td>面积 (mm<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"></g><g data-mml-node="mn" transform="translate(33,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>)</td>
<td>12.09</td>
<td>34.05</td>
<td>67.28</td>
<td>140.44</td>
</tr>
<tr>
<td>功耗 (nJ per access)</td>
<td>0.635</td>
<td>1.257</td>
<td>1.944</td>
<td>3.756</td>
</tr>
<tr>
<td>*带宽 (GB/s)</td>
<td>3.2</td>
<td>3.2</td>
<td>3.2</td>
<td>3.2</td>
</tr>
</tbody></table>
<h2 id="互联类"><a href="#互联类" class="headerlink" title="互联类"></a>互联类</h2><p><strong>资源类别：</strong></p>
<table>
<thead>
<tr>
<th></th>
<th>Router</th>
<th>I/O Die</th>
<th>D2D接口</th>
</tr>
</thead>
<tbody><tr>
<td><strong>性能</strong></td>
<td>（A）看流水线深度</td>
<td>（A）verilog+DC（B）看论文</td>
<td>（B）看论文</td>
</tr>
<tr>
<td><strong>面积</strong></td>
<td>（A）使用DSENT</td>
<td>（A）verilog+DC（B）看论文</td>
<td>（B）看论文</td>
</tr>
<tr>
<td><strong>功耗</strong></td>
<td>（A）使用DSENT</td>
<td>（A）verilog+DC（B）看论文</td>
<td>（B）看论文</td>
</tr>
<tr>
<td><strong>成本</strong></td>
<td>（B）看论文</td>
<td>（B）看论文</td>
<td>（B）看论文</td>
</tr>
</tbody></table>
<h3 id="NoC-Router"><a href="#NoC-Router" class="headerlink" title="NoC Router"></a>NoC Router</h3><ul>
<li><strong>工具</strong>：DSENT。</li>
</ul>
<p>下面是一些常见的结果。</p>
<ul>
<li>一些常见输入、输出端口路由器的<strong>功耗</strong>：（单位：W，左侧：输入端口数；上侧：输出端口数）</li>
</ul>
<table>
<thead>
<tr>
<th>端口数</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>0.001020921</td>
<td>0.001046569</td>
<td>0.001072215</td>
<td>0.001097859</td>
<td>0.0011235</td>
<td>0.001149144</td>
<td>0.001174785</td>
</tr>
<tr>
<td>2</td>
<td>0.002018667</td>
<td>0.002056779</td>
<td>0.002094889</td>
<td>0.002132998</td>
<td>0.00217111</td>
<td>0.002210914</td>
<td>0.002249019</td>
</tr>
<tr>
<td>3</td>
<td>0.003023034</td>
<td>0.003075147</td>
<td>0.003127259</td>
<td>0.00318107</td>
<td>0.00323318</td>
<td>0.003285287</td>
<td>0.003337395</td>
</tr>
<tr>
<td>4</td>
<td>0.004033511</td>
<td>0.004101011</td>
<td>0.004166808</td>
<td>0.004232605</td>
<td>0.0042984</td>
<td>0.004365584</td>
<td>0.004431378</td>
</tr>
<tr>
<td>5</td>
<td>0.00505551</td>
<td>0.005137705</td>
<td>0.005219898</td>
<td>0.005303479</td>
<td>0.00538567</td>
<td>0.005467858</td>
<td>0.005550045</td>
</tr>
<tr>
<td>6</td>
<td>0.006083331</td>
<td>0.006182975</td>
<td>0.006281228</td>
<td>0.006379479</td>
<td>0.00647773</td>
<td>0.006575977</td>
<td>0.006677315</td>
</tr>
<tr>
<td>7</td>
<td>0.007121803</td>
<td>0.007237194</td>
<td>0.007352584</td>
<td>0.007467973</td>
<td>0.00758645</td>
<td>0.007701837</td>
<td>0.007817221</td>
</tr>
</tbody></table>
<ul>
<li>输入、输出端口数均为5的路由器的<strong>面积</strong>：0.3363 mm<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"></g><g data-mml-node="mn" transform="translate(33,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>。其余面积也可类似仿真获得。</li>
</ul>
<h3 id="D2D接口"><a href="#D2D接口" class="headerlink" title="D2D接口"></a>D2D接口</h3><ul>
<li><strong>方法</strong>：只能使用理论分析。</li>
<li><strong>性能、功耗</strong>数据：（来自[1]）</li>
</ul>
<p><img src="/2025/07/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/LLM%E5%8A%A0%E9%80%9F%E8%8A%AF%E7%89%87DSE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%A1%AC%E4%BB%B6%E5%8F%98%E9%87%8F/image-20250729115146734.png"></p>
<ul>
<li><strong>面积</strong>数据：（12nm工艺，估算自[1], [2]）</li>
</ul>
<p>Adapter的面积数据 [1]：</p>
<p><img src="/2025/07/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/LLM%E5%8A%A0%E9%80%9F%E8%8A%AF%E7%89%87DSE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%A1%AC%E4%BB%B6%E5%8F%98%E9%87%8F/image-20250729115432888.png"></p>
<p>再根据[2]中UCIe的微架构：</p>
<p><img src="/2025/07/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/LLM%E5%8A%A0%E9%80%9F%E8%8A%AF%E7%89%87DSE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%A1%AC%E4%BB%B6%E5%8F%98%E9%87%8F/image-20250729120742926.png"></p>
<p>可以估算<strong>D2D接口的面积为：0.013mm<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"></g><g data-mml-node="mn" transform="translate(33,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>.</strong>（UCIe，12nm工艺）。</p>
<h3 id="I-O-die"><a href="#I-O-die" class="headerlink" title="I/O die"></a>I/O die</h3><ul>
<li><strong>方法</strong>：可使用verilog+DC综合的方式。或者从论文中搜集数据：</li>
</ul>
<p>依据[3]，基于AMD EPYC 芯片（14nm工艺），I/O die的<strong>面积</strong>为400 mm²，<strong>延迟</strong>为2–3 个 NoC 时钟周期（受芯片尺寸和硅中介层链路延迟影响），每个I/O 控制器的<strong>功耗</strong>为5W。依据[4]（15nm交换机，4μm互连），互联的<strong>功耗</strong>为0.063 pJ/bit，端到端<strong>延迟</strong>为20ns。</p>
<blockquote>
<p><strong>参考文献</strong>：</p>
<p>[1] Heterogeneous Die-to-Die Interfaces: Enabling More Flexible Chiplet Interconnection Systems (MICRO’23).</p>
<p>[2] Universal Chiplet Interconnect Express (UCIe): An Open Industry Standard for Innovations With Chiplets at Package Level.</p>
<p>[3] A Performance Analysis of Chiplet-Based Systems (DATE’25).</p>
<p>[4] FRED: A Wafer-scale Fabric for 3D Parallel DNN Training (ISCA’25).</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://stellarhui.github.io">摘星的辉</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://stellarhui.github.io/2025/07/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/LLM%E5%8A%A0%E9%80%9F%E8%8A%AF%E7%89%87DSE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%A1%AC%E4%BB%B6%E5%8F%98%E9%87%8F/">https://stellarhui.github.io/2025/07/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/LLM%E5%8A%A0%E9%80%9F%E8%8A%AF%E7%89%87DSE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%A1%AC%E4%BB%B6%E5%8F%98%E9%87%8F/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://stellarhui.github.io" target="_blank">皓月星辰</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%BE%E8%AE%A1%E7%A9%BA%E9%97%B4%E6%8E%A2%E7%B4%A2/">设计空间探索</a></div><div class="post-share"><div class="social-share" data-image="/img/favicon.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/07/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/%E5%A4%9A%E8%8A%AF%E7%B2%92%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BA%92%E8%81%94%E7%BB%93%E6%9E%84/" title="多芯粒系统的互联结构"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">多芯粒系统的互联结构</div></div><div class="info-2"><div class="info-item-1">多芯粒系统的互联结构本节主要关注多芯粒系统中用于互联、通信的3种结构：（1）路由器；（2）跨芯粒D2D接口；（3）I/O Die。下面将梳理其大致物理架构，重点关注如何评估其性能、功耗、面积、成本（以为DSE服务）。 路由器 D2D接口基本结构可以把芯粒间的die-to-die接口分为2层：物理层（physical layer (PHY)）和协议层（protocol layer (Adapter)）。（当然也有人分为3层，比如《Chiplet互连标准UCIe》，但本质相同）常见的D2D接口分为2类：  串行接口（serial interface）：特点是high-data-rate, long-reach, high-latency, high-power，例如SerDes； 并行接口（parallel interface）：特点是low-power, low-latency, short-reach, low-data-rate, and high-port-count (costly)，例如AIB, OpenHBI。   下图是两种接口的微架构。描述了数据包flit跨芯粒传输...</div></div></div></a><a class="pagination-related" href="/2025/07/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/SRAM,%20DRAM%E5%92%8CMC/" title="存储结构之SRAM, DRAM和Memory Controller"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">存储结构之SRAM, DRAM和Memory Controller</div></div><div class="info-2"><div class="info-item-1">SRAM, DRAM和Memory Controller​	在本节中，我们将重点关注SRAM, DRAM存储结构的物理实现，补充基础常识上的缺失（但不需要了解太深入，毕竟学的是计算机不是电路）。最后，给出SRAM, DRAM的性能、功耗、面积、成本评估方法。（这才是重点！） SRAM​	SRAM无需刷新，速度快，支持非连续性访问，适合高速缓存（L1/L2 Cache），其性能通常优于DRAM。但其缺点是：无法避免软错误率（SER）和静态功耗，且具有易失性。  SRAM Memory Cell​	SRAM由能够存储1 bit的Memory Cell单元（两个交叉耦合的反相器 + 两个访问晶体管）组成。  其中，两个交叉耦合的反相器有不同的实现方法，如Full-CMOS 6TMC，TFT-PMOS MC等。  **备注：**一些基本结构和术语：  WL（Word Line，字线）：水平方向的金属线，连接一行所有Memory Cell的访问晶体管栅极（Gate）。当WL被激活（高电平）时，该行所有细胞的访问晶体管导通，细胞内存储的数据会传输到对应的位线对（BL/BLB）。 BL（Bit...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#LLM%E6%8E%A8%E7%90%86%E5%8A%A0%E9%80%9F%E8%8A%AF%E7%89%87DSE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%A1%AC%E4%BB%B6%E5%8F%98%E9%87%8F"><span class="toc-number">1.</span> <span class="toc-text">LLM推理加速芯片DSE（1）：硬件变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E7%B1%BB"><span class="toc-number">1.1.</span> <span class="toc-text">计算类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E7%B1%BB"><span class="toc-number">1.2.</span> <span class="toc-text">存储类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%92%E8%81%94%E7%B1%BB"><span class="toc-number">1.3.</span> <span class="toc-text">互联类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#NoC-Router"><span class="toc-number">1.3.1.</span> <span class="toc-text">NoC Router</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D2D%E6%8E%A5%E5%8F%A3"><span class="toc-number">1.3.2.</span> <span class="toc-text">D2D接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-O-die"><span class="toc-number">1.3.3.</span> <span class="toc-text">I&#x2F;O die</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url(/img/background.jpg);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;2025 By 摘星的辉</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.2</a></span></div><div class="footer_custom_text"><div style="text-align:center; margin-top:20px;">
  <div style="margin-top:10px;">
    今天也要继续加油哦！
  </div>
</div>
</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script></div><script id="canvas_nest" defer="defer" color="100,149,237" opacity="0.6" zIndex="-1" count="70" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>