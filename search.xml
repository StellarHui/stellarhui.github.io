<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Introduction to Computer Network</title>
      <link href="/2025/09/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9CLec1%EF%BC%9A%E7%AE%80%E4%BB%8B/"/>
      <url>/2025/09/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9CLec1%EF%BC%9A%E7%AE%80%E4%BB%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h2><h3 id="Access-to-Information"><a href="#Access-to-Information" class="headerlink" title="Access to Information"></a>Access to Information</h3><ul><li><p><strong>Client-Server Model</strong>: a client explicitly requests information from a server that hosts that information.</p><p><strong>Example</strong>: web applications. </p><p><strong>Implementation</strong>: request-reply model.</p></li></ul><p><img src="/2025/09/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9CLec1%EF%BC%9A%E7%AE%80%E4%BB%8B/image-20250922101015164.png"></p><ul><li><p><strong>Peer-to-Peer Communication</strong>: every person can, in principle, communicate with others in the same group. Every person can thus act both as a client and a server.</p><p><strong>Example</strong>: IoT.</p><p><strong>Implementation</strong>: When a client wants to acquire some content, </p><ul><li>The first step (1) is to get <strong>a meta-data file</strong> from a public web server hereafter called <strong>Torrent Repository Server</strong>（种子文件服务器）. This file contains <strong>the address of one or more Trackers</strong> and information about the content. </li><li>The next step (2) performed by the Client is to <strong>announce to the Tracker its desire to join the swarm</strong>, which is answered with a list of Peers sharing the same content. This announce is performed periodically, so that the Tracker can keep the list of Peers updated.注意：Tracker不存储文件内容，而是协调用户之间的连接。它<strong>记录哪些用户共享同一个文件</strong>，帮助新加入的用户找到其他可连接的peer。</li><li>Finally, the last step (3) is to try to establish connections with other peers in order to start sending and receiving content. These connections operate over TCP and use the PeerWire Protocol.</li></ul></li></ul><p><img src="/2025/09/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9CLec1%EF%BC%9A%E7%AE%80%E4%BB%8B/image-20250922101129617.png"></p><blockquote><p>上图中，BitTorrent将文件分块下载，用户可以从多个peer同时下载（或上传）不同块，提高效率。Seeder（做种者）表示拥有全部文件的peer，只能上传文件快；Leecher（吸附者）表示拥有部分文件的peer，可以同时上传或下载文件块。</p></blockquote><h2 id="Types-of-Computer-Networks"><a href="#Types-of-Computer-Networks" class="headerlink" title="Types of Computer Networks"></a>Types of Computer Networks</h2><h3 id="Broadband-Access-Networks"><a href="#Broadband-Access-Networks" class="headerlink" title="Broadband Access Networks"></a>Broadband Access Networks</h3><ul><li><strong>功能</strong>: 提供接入互联网（如Internet）的途径（via copper (telephone lines), coaxial cable (cable), optical fiber, or mobile (wireless medium)）。</li></ul><blockquote><p><strong>Metcalfe’s Law</strong>: the value of a network is proportional to <strong>the square of the number of users</strong>（<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="5.832ex" height="2.452ex" role="img" focusable="false" viewBox="0 -833.9 2577.6 1083.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msup" transform="translate(1152,0)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(633,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(2188.6,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>） because this is roughly <strong>the number of different connections that may be made.</strong> </p></blockquote><h3 id="Mobile-and-Wireless-Access-Networks"><a href="#Mobile-and-Wireless-Access-Networks" class="headerlink" title="Mobile and Wireless Access Networks"></a>Mobile and Wireless Access Networks</h3><ul><li><strong>功能</strong>: 提供随时随地的无线连接。例如：(1) wireless networks: cellular networks, wireless hotspots; (2) mobile networks: mobile computers, such as laptops, tablets, and smartphones.</li></ul><p>对比 wireless 与mobile：</p><p><img src="/2025/08/30/%E6%9D%82%E9%A1%B9/2025%20GCC%20Reflection/e-20250922111831566.png" alt=" "></p><h3 id="Content-Provider-Networks"><a href="#Content-Provider-Networks" class="headerlink" title="Content Provider Networks"></a>Content Provider Networks</h3><ul><li><p><strong>功能</strong>：托管大量服务器（数十万至百万级别）；支持云计算服务；处理服务器间及与互联网间的大规模数据传输。例如：Data-Center Networks / Cloud。</p></li><li><p><strong>关键指标</strong>：（1）网络吞吐量（cross-section bandwidth）：data rate that can be delivered between any two servers in the network（2）能耗（energy usage）。</p></li></ul><h3 id="Content-Delivery-Network-CDN"><a href="#Content-Delivery-Network-CDN" class="headerlink" title="Content Delivery Network, CDN"></a>Content Delivery Network, CDN</h3><ul><li><strong>功能</strong>（特点）：(1) A large collection of servers that are geographically distributed; (2) <strong>content is replicated</strong> and placed as close as possible to the users that are requesting it.</li></ul><p><img src="/2025/08/30/%E6%9D%82%E9%A1%B9/2025%20GCC%20Reflection/e-20250922112724151.png" alt=" "></p><h3 id="Transit-Networks"><a href="#Transit-Networks" class="headerlink" title="Transit Networks"></a>Transit Networks</h3><ul><li><strong>功能</strong>：在不同网络（e.g., between the <strong>content provider</strong> to <strong>a user’s Internet Service Provider (ISP)</strong> when they are not directly connected）之间传输流量。</li></ul><blockquote><p><strong>注</strong>：大流量之间更倾向于直接互联，减少对传输网络的依赖。</p></blockquote><h3 id="Enterprise-Networks"><a href="#Enterprise-Networks" class="headerlink" title="Enterprise Networks"></a>Enterprise Networks</h3><ul><li><strong>功能</strong>：内部资源共享（数据、计算资源）；通信（邮件、VoIP、视频会议、远程医疗）；业务电子化。</li><li><strong>实现</strong>：（1）虚拟专用网络（VPN）连接不同个人网络；（2）使用一些传输介质：Email, IP telephony / voice over IP (VoIP), video meeting/conference, desktop sharing, telemedicine…</li></ul><h2 id="Various-Networking-Technologies-that-implement-networks-at-different-scales"><a href="#Various-Networking-Technologies-that-implement-networks-at-different-scales" class="headerlink" title="Various Networking Technologies (that implement networks at different scales)"></a>Various Networking Technologies (that implement networks at different scales)</h2><h3 id="PAN-Personal-Area-Network"><a href="#PAN-Personal-Area-Network" class="headerlink" title="PAN, Personal Area Network"></a>PAN, Personal Area Network</h3><ul><li><strong>范围</strong>：个人设备之间（如蓝牙）。</li></ul><h3 id="LAN-Local-Area-Network"><a href="#LAN-Local-Area-Network" class="headerlink" title="LAN, Local Area Network"></a>LAN, Local Area Network</h3><ul><li><strong>范围</strong>：单一建筑内（家、办公室、工厂）。</li></ul><p><img src="/2025/08/30/%E6%9D%82%E9%A1%B9/2025%20GCC%20Reflection/e-20250922115305907.png"></p><ul><li><strong>类型</strong>：<ul><li><strong>无线LAN（WLAN）</strong>：通过AP（Access Point）接入，使用IEEE 802.11（WiFi）。其速度范围：11 Mbps (802.11b) to 7 Gbps (802.11ad)；</li><li><strong>有线LAN</strong>：使用copper, coaxial cable, and optical fiber连接到交换机（Ethernet switch），IEEE 802.3（Ethernet）。其速度范围：100 Mbps to 40 Gbps，相比WLAN有lower latency, lower packet loss, and higher throughput。</li><li><strong>虚拟LAN（VLAN）</strong>：逻辑上划分多个LAN，隔离通信。（VLAN divides one large physical LAN into smaller logical LANs, as if two separate physical LANs.）</li></ul></li></ul><blockquote><p><strong>AP:</strong> can be a wireless router, or a base station. AP relays packets (1) between wireless computers and also (2) between wireless computers and the Internet.</p><p><strong>Switch:</strong> relays packets between computers, using address in packet to determine the destination computer.</p></blockquote><h3 id="Home-Networks"><a href="#Home-Networks" class="headerlink" title="Home Networks"></a><strong>Home Networks</strong></h3><h3 id="MAN-Metropolitan-Area-Network"><a href="#MAN-Metropolitan-Area-Network" class="headerlink" title="MAN, Metropolitan Area Network"></a><strong>MAN, Metropolitan Area Network</strong></h3><ul><li><strong>范围</strong>：城市范围。例如：有线电视网络；WiMAX（IEEE 802.16）；4G/5G蜂窝网络。</li></ul><h3 id="WAN-Wide-Area-Networks"><a href="#WAN-Wide-Area-Networks" class="headerlink" title="WAN, Wide Area Networks"></a><strong>WAN, Wide Area Networks</strong></h3><ul><li><strong>范围</strong>：跨越大地理区域。</li><li><strong>组成</strong>：（1）传输线（移动数据）；（2）路由器（转发数据）。</li></ul><p><img src="/2025/08/30/%E6%9D%82%E9%A1%B9/2025%20GCC%20Reflection/e-20250922120809793.png"></p><blockquote><p><strong>路由器相关的算法</strong>：</p><p>（1）路由算法（routing algorithm）：选择转发的路径（已知从router A到router B）；</p><p>（2）转发算法（Forwarding algorithm）：选择转发对象（即转发决策，如router A选择转发到router B1 or B2 or B3）。</p></blockquote><ul><li><strong>实现</strong>：（1）使用VPN；（2）使用ISP；（3）使用卫星、蜂窝网络、SD-WAN等。</li></ul><h3 id="Internetworks-Internet"><a href="#Internetworks-Internet" class="headerlink" title="Internetworks / Internet"></a><strong>Internetworks / Internet</strong></h3><ul><li><strong>定义</strong>：由多个独立运营的网络互联而成。使用**网关（Gateway）**提供网络间的硬件和软件转换。</li></ul><h2 id="History-Internet-Designs"><a href="#History-Internet-Designs" class="headerlink" title="History Internet Designs"></a>History Internet Designs</h2><h3 id="ARPANET"><a href="#ARPANET" class="headerlink" title="ARPANET"></a><strong>ARPANET</strong></h3>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>软件安全原理与实践：课程导论</title>
      <link href="/2025/09/18/%E8%BD%AF%E4%BB%B6%E5%AE%89%E5%85%A8%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E8%B7%B5/%E8%AF%BE%E7%A8%8B%E5%AF%BC%E8%AE%BA/"/>
      <url>/2025/09/18/%E8%BD%AF%E4%BB%B6%E5%AE%89%E5%85%A8%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E8%B7%B5/%E8%AF%BE%E7%A8%8B%E5%AF%BC%E8%AE%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="成绩构成"><a href="#成绩构成" class="headerlink" title="成绩构成"></a>成绩构成</h2><p>60%平时小测：会改实验的参数来出题，做了实验基本就没问题；而一些理论的东西不会特别考。要深刻理解实验，平时积极思考和提问。但是还要写实验报告（占分0分，只要写完整即可，但是必须要交；成绩完全以Quiz为主）。</p><p>40%期末考：会着重考一些理论的东西。</p><h2 id="Linux-Basics"><a href="#Linux-Basics" class="headerlink" title="Linux Basics"></a>Linux Basics</h2>]]></content>
      
      
      <categories>
          
          <category> 软件安全原理与实践 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>2025 GCC Reflection</title>
      <link href="/2025/08/30/%E6%9D%82%E9%A1%B9/2025%20GCC%20Reflection/"/>
      <url>/2025/08/30/%E6%9D%82%E9%A1%B9/2025%20GCC%20Reflection/</url>
      
        <content type="html"><![CDATA[<p>对我而言，2025年8月的暑假，大概是最不平凡也最刺激的一段时光。人生中第一次出国，我在德国、奥地利和捷克度过了二十天，结识了来自智利、美国、印度、津巴布韦等许多国家的伙伴，也更深刻地感受到与MF的bonding。</p><p>简单记录一些这一路上的收获和思考。</p><p>首先，是看见了更广阔的世界，接触到了更多面对生活的方式与处理问题的思路。也因此，我希望自己今后能成为一个更开放、更大气的人。就像高考状元王同学所说的那样，“play hard and work hard”。学会融入更大的集体，去体验截然不同的生活方式，更真诚地对待这个世界。</p><p>其次，是在前往布拉格的大巴上，我反复思考的一件事——关于我一直难以克服的自卑，甚至时常陷入自责的情绪。不知从何时起，好像是从初三参加体验营开始，我逐渐变得自卑，思想变得“单一化”，过度执着于成绩排名，陷入越是焦急就越混乱、越是一地鸡毛的死循环。后来身体也出现一些问题，我甚至开始封印自己的笑容。回想初中时，虽然学业压力也不小，但那段日子依然是快乐而充实的；而高中阶段的照片，我却总不敢笑，表情管理糟糕，导致我至今不愿直视毕业照。后来高中的结果也并不如意，那段充满不甘与叹息的时光，我几乎不堪回顾，母校回访活动也从未去过一次。</p><p>为什么会这样呢？难道这是我性格中注定要经历的劫数吗？当初明明只差一点，为什么没能做得更好？为什么要这样反复折磨自己？仿佛从某个节点开始，奇迹再也没有降临过我的人生，一种深深的无力感笼罩着我。</p><p>但这一次，在出国经历了种种新奇的人与事之后，我逐渐意识到：那种刻意追求量化指标、不断与他人比较的习惯，以及长期以来的自卑心态在暗中支配着我，它们让我的生活逐渐窄化，也让许多努力的结果最终蒙上了灰。可真正的生活本不该如此狭窄，也不必活成那样。外面的世界多么精彩——有埃布湖清澈宁静、心旷神怡的蓝，有楚格峰山巅俯瞰群山的开阔，有布拉格光鲜亮丽下的忧郁，也有维也纳金色大厅富丽堂皇的金色音符。生活是多面的，如果总是作茧自缚追求完美，反而会错过此刻的风景。唯有学会在过程中感受温度，才能真正体会到生活的辽阔。</p><p>我决定真正地打开自己，放下自卑。虽然这个过程偶尔还会有些不习惯，但它让我觉得踏实而有光芒。我正主动走出自我限制的围城，尝试把目光更多地投向外界那些真实、丰富而辽阔的事物。</p><p>这或许就是一种“淡然”吧。只不过我的淡然，并非来自天生的从容，而是千帆过尽之后，终于肯放过自己的坦然。</p>]]></content>
      
      
      <categories>
          
          <category> 杂项 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>多芯粒系统的互联结构</title>
      <link href="/2025/07/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/%E5%A4%9A%E8%8A%AF%E7%B2%92%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BA%92%E8%81%94%E7%BB%93%E6%9E%84/"/>
      <url>/2025/07/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/%E5%A4%9A%E8%8A%AF%E7%B2%92%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BA%92%E8%81%94%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<h1 id="多芯粒系统的互联结构"><a href="#多芯粒系统的互联结构" class="headerlink" title="多芯粒系统的互联结构"></a>多芯粒系统的互联结构</h1><p>本节主要关注多芯粒系统中用于互联、通信的3种结构：<strong>（1）路由器；（2）跨芯粒D2D接口；（3）I/O Die。<strong>下面将梳理其大致物理架构，重点关注</strong>如何评估其性能、功耗、面积、成本（以为DSE服务）。</strong></p><h2 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h2><p><img src="/2025/07/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/%E5%A4%9A%E8%8A%AF%E7%B2%92%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BA%92%E8%81%94%E7%BB%93%E6%9E%84/image-20250723101107798.png"></p><h2 id="D2D接口"><a href="#D2D接口" class="headerlink" title="D2D接口"></a>D2D接口</h2><h3 id="基本结构"><a href="#基本结构" class="headerlink" title="基本结构"></a>基本结构</h3><p>可以把芯粒间的die-to-die接口分为2层：<strong>物理层（physical layer (PHY)）和协议层（protocol layer (Adapter)）</strong>。（当然也有人分为3层，比如《Chiplet互连标准UCIe》，但本质相同）常见的D2D接口分为2类：</p><ul><li><strong>串行接口（serial interface）</strong>：特点是high-data-rate, long-reach, high-latency, high-power，例如SerDes；</li><li><strong>并行接口（parallel interface）</strong>：特点是low-power, low-latency, short-reach, low-data-rate, and high-port-count (costly)，例如AIB, OpenHBI。</li></ul><p><img src="/2025/07/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/%E5%A4%9A%E8%8A%AF%E7%B2%92%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BA%92%E8%81%94%E7%BB%93%E6%9E%84/image-20250723144607084.png" alt="image-20250723144607084"></p><p>下图是两种接口的微架构。描述了数据包flit跨芯粒传输的过程：从原芯粒某个核的router出发，经过adapter（协议层），随后进入片外的PHY（物理层），传输到达目标芯粒的PHY，然后重新进入adapter转变信号格式，最后到达目标核的router，进入目标核。</p><p><img src="/2025/07/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/%E5%A4%9A%E8%8A%AF%E7%B2%92%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BA%92%E8%81%94%E7%BB%93%E6%9E%84/image-20250723140342567.png"></p><p>除此之外，还有一些基于更先进封装技术（如2.5D）的接口，比如BoW, UCIe，可以看成是串行接口和并行接口的结合。</p><blockquote><p><strong>注</strong>：同一个接口（同一PHY）上支持运行不同的协议，比如Compute Express Link (CXL), PCI Express, Ethernet protocols 可以在 SerDes PHY 上同时运行。</p></blockquote><h3 id="功耗"><a href="#功耗" class="headerlink" title="功耗"></a>功耗</h3><blockquote><p><strong>参考文献</strong>：</p><ul><li>Heterogeneous Die-to-Die Interfaces: Enabling More Flexible Chiplet Interconnection Systems (MICRO’23).</li><li>On-Chip Networks, second edition.</li><li></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机体系结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 芯片设计基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LLM加速芯片DSE（1）：硬件变量</title>
      <link href="/2025/07/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/LLM%E5%8A%A0%E9%80%9F%E8%8A%AF%E7%89%87DSE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%A1%AC%E4%BB%B6%E5%8F%98%E9%87%8F/"/>
      <url>/2025/07/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/LLM%E5%8A%A0%E9%80%9F%E8%8A%AF%E7%89%87DSE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%A1%AC%E4%BB%B6%E5%8F%98%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="LLM推理加速芯片DSE（1）：硬件变量"><a href="#LLM推理加速芯片DSE（1）：硬件变量" class="headerlink" title="LLM推理加速芯片DSE（1）：硬件变量"></a>LLM推理加速芯片DSE（1）：硬件变量</h1><p>设计芯片就像“盖楼”：在给定“地皮面积”（或者预算成本）的约束下，怎么规划盖楼，会使得性能（或者某个指标）最优？这就是DSE的意义。考虑片上面积给定的约束条件，有3类资源会占据片上面积：计算资源、存储资源、互联资源，因此DSE的工作经常将它们作为变量进行设计空间探索。这就是<strong>硬件变量</strong>。</p><blockquote><p><strong>评估指标</strong>：性能（执行时间），面积，功耗（或者散热），成本。</p><p><strong>评估方法</strong>：（A） 使用仿真器或者真机跑数据；（B）使用论文中的model进行量化计算。</p></blockquote><p>本节主要关注如何获取对应的性能、面积、功耗、成本<strong>数据</strong>。</p><h2 id="计算类"><a href="#计算类" class="headerlink" title="计算类"></a>计算类</h2><p>PE, CPU, GPU等。一般的<strong>性能评估方法</strong>是：（A.1）可以看微架构图，观察<strong>流水线的深度</strong>；（A.2）或者写verilog代码，运行仿真看最终消耗的<strong>cycle数目</strong>。</p><p>对于<strong>面积、功耗的评估</strong>，一般采用（A）写verilog代码，随后进行DC综合的方法。</p><p>对于<strong>成本的评估</strong>，需要细分PE的结构（多少MAC阵列，存储结构、控制单元的结构），然后使用（B）理论模型对各项进行估计并累加。</p><h2 id="存储类"><a href="#存储类" class="headerlink" title="存储类"></a>存储类</h2><p><strong>资源类别：</strong></p><table><thead><tr><th></th><th>SRAM</th><th>DRAM</th></tr></thead><tbody><tr><td><strong>性能</strong></td><td>（A）使用Cacti或NVSim仿真</td><td>（A）使用DRAMsim3或者ramlualtor2仿真</td></tr><tr><td><strong>面积</strong></td><td>（A）使用Cacti或NVSim仿真</td><td>（A）使用Cacti仿真</td></tr><tr><td><strong>功耗</strong></td><td>（A）使用Cacti或NVSim仿真</td><td>（A）使用DRAMsim3或者ramlualtor2仿真</td></tr><tr><td><strong>成本</strong></td><td>（B）看论文</td><td>（B）看论文</td></tr></tbody></table><p>使用Cacti和NVSim，可以得到一些常见配置的DRAM, SRAM的面积、功耗等数据。</p><ul><li>256KB SRAM相关数据：（来自NVSim）</li></ul><table><thead><tr><th>工艺 (nm)</th><th>22</th><th>32</th><th>45</th><th>65</th></tr></thead><tbody><tr><td>性能 (ps)</td><td>Read: 333.292, Write: 293.751</td><td>Read: 369.984, Write: 335.000</td><td>Read: 382.003, Write: 354.589</td><td>Read: 605.831, Write: 580.340</td></tr><tr><td>面积 (mm<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"></g><g data-mml-node="mn" transform="translate(33,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>)</td><td>0.174</td><td>0.371</td><td>0.734</td><td>1.532</td></tr><tr><td>功耗 (pJ per access)</td><td>Read: 63.733, Write: 60.251, Leak: 309.809 mW</td><td>Read: 98.298, Write: 92.862, Leak: 505.586 mW</td><td>Read: 163.025, Write: 153.712, Leak: 378.518 mW</td><td>Read: 296.696, Write: 279.795, Leak: 595.228 mW</td></tr><tr><td>带宽 (GB/s)</td><td>Read: 168.973, Write: 340.696</td><td>Read: 199.464, Write: 304.342</td><td>Read: 202.614, Write: 291.485</td><td>Read: 118.441, Write: 177.861</td></tr></tbody></table><ul><li>1GB DDR3 DRAM相关数据：（来自Cacti）</li></ul><table><thead><tr><th>工艺 (nm)</th><th>22</th><th>32</th><th>45</th><th>65</th></tr></thead><tbody><tr><td>性能 (ns)</td><td>17.25</td><td>20.12</td><td>22.9</td><td>29.6</td></tr><tr><td>面积 (mm<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"></g><g data-mml-node="mn" transform="translate(33,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>)</td><td>5.83</td><td>16.44</td><td>32.46</td><td>67.77</td></tr><tr><td>功耗 (nJ per access)</td><td>1.36</td><td>2.50</td><td>4.75</td><td>7.11</td></tr><tr><td>*带宽 (GB/s)</td><td>0.79</td><td>0.79</td><td>0.79</td><td>0.79</td></tr></tbody></table><blockquote><p>此处带宽采用<strong>带宽（GB/s）= 数据速率（MT/s） × 数据总线宽度（bit） / 8</strong>计算。</p></blockquote><ul><li>8GB 3D DRAM（4层堆叠，DDR3接口）相关数据：（来自Cacti）</li></ul><table><thead><tr><th>工艺 (nm)</th><th>22</th><th>32</th><th>45</th><th>65</th></tr></thead><tbody><tr><td>性能 (ns)</td><td>15.21</td><td>20.70</td><td>23.44</td><td>30.11</td></tr><tr><td>面积 (mm<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"></g><g data-mml-node="mn" transform="translate(33,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>)</td><td>12.09</td><td>34.05</td><td>67.28</td><td>140.44</td></tr><tr><td>功耗 (nJ per access)</td><td>0.635</td><td>1.257</td><td>1.944</td><td>3.756</td></tr><tr><td>*带宽 (GB/s)</td><td>3.2</td><td>3.2</td><td>3.2</td><td>3.2</td></tr></tbody></table><h2 id="互联类"><a href="#互联类" class="headerlink" title="互联类"></a>互联类</h2><p><strong>资源类别：</strong></p><table><thead><tr><th></th><th>Router</th><th>I/O Die</th><th>D2D接口</th></tr></thead><tbody><tr><td><strong>性能</strong></td><td>（A）看流水线深度</td><td>（A）verilog+DC（B）看论文</td><td>（B）看论文</td></tr><tr><td><strong>面积</strong></td><td>（A）使用DSENT</td><td>（A）verilog+DC（B）看论文</td><td>（B）看论文</td></tr><tr><td><strong>功耗</strong></td><td>（A）使用DSENT</td><td>（A）verilog+DC（B）看论文</td><td>（B）看论文</td></tr><tr><td><strong>成本</strong></td><td>（B）看论文</td><td>（B）看论文</td><td>（B）看论文</td></tr></tbody></table><h3 id="NoC-Router"><a href="#NoC-Router" class="headerlink" title="NoC Router"></a>NoC Router</h3><ul><li><strong>工具</strong>：DSENT。</li></ul><p>下面是一些常见的结果。</p><ul><li>一些常见输入、输出端口路由器的<strong>功耗</strong>：（单位：W，左侧：输入端口数；上侧：输出端口数）</li></ul><table><thead><tr><th>端口数</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th></tr></thead><tbody><tr><td>1</td><td>0.001020921</td><td>0.001046569</td><td>0.001072215</td><td>0.001097859</td><td>0.0011235</td><td>0.001149144</td><td>0.001174785</td></tr><tr><td>2</td><td>0.002018667</td><td>0.002056779</td><td>0.002094889</td><td>0.002132998</td><td>0.00217111</td><td>0.002210914</td><td>0.002249019</td></tr><tr><td>3</td><td>0.003023034</td><td>0.003075147</td><td>0.003127259</td><td>0.00318107</td><td>0.00323318</td><td>0.003285287</td><td>0.003337395</td></tr><tr><td>4</td><td>0.004033511</td><td>0.004101011</td><td>0.004166808</td><td>0.004232605</td><td>0.0042984</td><td>0.004365584</td><td>0.004431378</td></tr><tr><td>5</td><td>0.00505551</td><td>0.005137705</td><td>0.005219898</td><td>0.005303479</td><td>0.00538567</td><td>0.005467858</td><td>0.005550045</td></tr><tr><td>6</td><td>0.006083331</td><td>0.006182975</td><td>0.006281228</td><td>0.006379479</td><td>0.00647773</td><td>0.006575977</td><td>0.006677315</td></tr><tr><td>7</td><td>0.007121803</td><td>0.007237194</td><td>0.007352584</td><td>0.007467973</td><td>0.00758645</td><td>0.007701837</td><td>0.007817221</td></tr></tbody></table><ul><li>输入、输出端口数均为5的路由器的<strong>面积</strong>：0.3363 mm<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"></g><g data-mml-node="mn" transform="translate(33,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>。其余面积也可类似仿真获得。</li></ul><h3 id="D2D接口"><a href="#D2D接口" class="headerlink" title="D2D接口"></a>D2D接口</h3><ul><li><strong>方法</strong>：只能使用理论分析。</li><li><strong>性能、功耗</strong>数据：（来自[1]）</li></ul><p><img src="/2025/07/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/LLM%E5%8A%A0%E9%80%9F%E8%8A%AF%E7%89%87DSE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%A1%AC%E4%BB%B6%E5%8F%98%E9%87%8F/image-20250729115146734.png"></p><ul><li><strong>面积</strong>数据：（12nm工艺，估算自[1], [2]）</li></ul><p>Adapter的面积数据 [1]：</p><p><img src="/2025/07/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/LLM%E5%8A%A0%E9%80%9F%E8%8A%AF%E7%89%87DSE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%A1%AC%E4%BB%B6%E5%8F%98%E9%87%8F/image-20250729115432888.png"></p><p>再根据[2]中UCIe的微架构：</p><p><img src="/2025/07/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/LLM%E5%8A%A0%E9%80%9F%E8%8A%AF%E7%89%87DSE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%A1%AC%E4%BB%B6%E5%8F%98%E9%87%8F/image-20250729120742926.png"></p><p>可以估算<strong>D2D接口的面积为：0.013mm<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="0.988ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 436.6 833.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"></g><g data-mml-node="mn" transform="translate(33,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>.</strong>（UCIe，12nm工艺）。</p><h3 id="I-O-die"><a href="#I-O-die" class="headerlink" title="I/O die"></a>I/O die</h3><ul><li><strong>方法</strong>：可使用verilog+DC综合的方式。或者从论文中搜集数据：</li></ul><p>依据[3]，基于AMD EPYC 芯片（14nm工艺），I/O die的<strong>面积</strong>为400 mm²，<strong>延迟</strong>为2–3 个 NoC 时钟周期（受芯片尺寸和硅中介层链路延迟影响），每个I/O 控制器的<strong>功耗</strong>为5W。依据[4]（15nm交换机，4μm互连），互联的<strong>功耗</strong>为0.063 pJ/bit，端到端<strong>延迟</strong>为20ns。</p><blockquote><p><strong>参考文献</strong>：</p><p>[1] Heterogeneous Die-to-Die Interfaces: Enabling More Flexible Chiplet Interconnection Systems (MICRO’23).</p><p>[2] Universal Chiplet Interconnect Express (UCIe): An Open Industry Standard for Innovations With Chiplets at Package Level.</p><p>[3] A Performance Analysis of Chiplet-Based Systems (DATE’25).</p><p>[4] FRED: A Wafer-scale Fabric for 3D Parallel DNN Training (ISCA’25).</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机体系结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计空间探索 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>存储结构之SRAM, DRAM和Memory Controller</title>
      <link href="/2025/07/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/SRAM,%20DRAM%E5%92%8CMC/"/>
      <url>/2025/07/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/SRAM,%20DRAM%E5%92%8CMC/</url>
      
        <content type="html"><![CDATA[<h1 id="SRAM-DRAM和Memory-Controller"><a href="#SRAM-DRAM和Memory-Controller" class="headerlink" title="SRAM, DRAM和Memory Controller"></a>SRAM, DRAM和Memory Controller</h1><p>​在本节中，我们将重点关注SRAM, DRAM存储结构的物理实现，<strong>补充基础常识上的缺失</strong>（但不需要了解太深入，毕竟学的是计算机不是电路）。最后，给出<strong>SRAM, DRAM的性能、功耗、面积、成本评估方法。</strong>（这才是重点！）</p><h2 id="SRAM"><a href="#SRAM" class="headerlink" title="SRAM"></a>SRAM</h2><p>​SRAM无需刷新，速度快，支持非连续性访问，适合高速缓存（L1/L2 Cache），其性能通常优于DRAM。但其<strong>缺点</strong>是：无法避免软错误率（SER）和静态功耗，且具有易失性。</p><p><img src="/2025/07/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/SRAM,%20DRAM%E5%92%8CMC/image-20250719185934420.png"></p><h3 id="SRAM-Memory-Cell"><a href="#SRAM-Memory-Cell" class="headerlink" title="SRAM Memory Cell"></a>SRAM Memory Cell</h3><p>​SRAM由能够存储1 bit的Memory Cell单元（两个交叉耦合的反相器 + 两个访问晶体管）组成。</p><p><img src="/2025/07/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/SRAM,%20DRAM%E5%92%8CMC/image-20250719184508940.png"></p><p>其中，两个交叉耦合的反相器有不同的实现方法，如Full-CMOS 6TMC，TFT-PMOS MC等。</p><blockquote><p>**备注：**一些基本结构和术语：</p><ul><li><strong>WL（Word Line，字线）</strong>：水平方向的金属线，连接<strong>一行所有Memory Cell</strong>的<strong>访问晶体管栅极</strong>（Gate）。当WL被激活（高电平）时，该行所有细胞的访问晶体管导通，细胞内存储的数据会传输到对应的位线对（BL/BLB）。</li><li><strong>BL（Bit Line，位线）与BLB（Bit Line Bar，反相位线）</strong>： 垂直方向的一对互补金属线，连接<strong>一列所有Memory Cell</strong>的<strong>访问晶体管源极/漏极</strong>（Source/Drain）。<ul><li><strong>BL</strong>：传输细胞存储的<strong>原始信号</strong>（如存储“1”时，BL为高电平）；</li><li><strong>BLB</strong>：传输<strong>BL的反相信号</strong>（如存储“1”时，BLB为低电平）； 两者形成<strong>差分信号</strong>（BL - BLB），目的是<strong>提高抗噪声能力</strong>（共模噪声会同时影响BL和BLB，差分信号不受其干扰）。</li></ul></li><li><strong>SA（Sense Amplifier， sense放大器）</strong>： 连接在每列BL/BLB的末端，用于<strong>放大微小的差分信号</strong>。</li></ul></blockquote><h3 id="地址译码"><a href="#地址译码" class="headerlink" title="地址译码"></a>地址译码</h3><p>​地址译码的本质是<strong>将输入的二进制地址转换为选中特定存储单元的控制信号</strong>，关键目标是<strong>高效激活目标行（字线）<strong>和</strong>选择目标列（位线）</strong>。分为下面几步：</p><ul><li><strong>预译码（Predecoding）</strong>：将行地址拆分为多个子集（如8位行地址拆分为两个4位子集），用低扇入门（如4输入AND）生成预译码信号（16个信号/子集）。这是为了减少高扇入门的数量。</li><li><strong>行译码（Row Decoding）</strong>：将预译码信号组合（如2输入AND）生成<strong>全局字线（GWL）</strong>，再结合<strong>块选择信号</strong>（Block Select）生成<strong>局部字线（LWL）</strong>（Divided Wordline, DWL技术），激活目标行的所有存储单元。</li><li><strong>列译码（Column Decoding）</strong>：将列地址译码，通过**多路复用器（MUX）**选择目标列，连接到sense放大器或写入电路。</li></ul><p><img src="/2025/07/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/SRAM,%20DRAM%E5%92%8CMC/image-20250719192032806.png"></p><h2 id="DRAM"><a href="#DRAM" class="headerlink" title="DRAM"></a>DRAM</h2><p>​与SRAM不同，DRAM需定期刷新（dynamic），读写速度慢，适合作为主存。（但同样具有易失性）</p><h3 id="DRAM-1T1C-Cell"><a href="#DRAM-1T1C-Cell" class="headerlink" title="DRAM 1T1C Cell"></a>DRAM 1T1C Cell</h3><p>​DRAM以<strong>1T1C存储单元</strong>（1个晶体管+1个电容）作为存储的基本单元。</p><h3 id="地址译码-1"><a href="#地址译码-1" class="headerlink" title="地址译码"></a>地址译码</h3><p>​DRAM的译码过程可以分为下面几步：</p><ul><li><strong>行译码</strong>：行地址（如12位）通过<strong>行译码器</strong>激活对应的<strong>字线</strong>，选中一行的所有存储单元；</li><li><strong>列译码</strong>：列地址（如10位）通过<strong>列译码器</strong>选择对应的<strong>位线</strong>，连接到sense放大器或写入电路；</li><li><strong>Bank Selection</strong>：现代DRAM包含多个<strong>Bank</strong>，地址中的<strong>Bank ID</strong>选择目标bank，实现并行操作（提高带宽）。</li></ul><p><img src="/2025/07/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/SRAM,%20DRAM%E5%92%8CMC/image-20250719193007174.png"></p><blockquote><p><strong>地址复用（Address Multiplexing）</strong>：DRAM的地址线是<strong>复用</strong>的（行地址与列地址共用同一组引脚），因此需通过**行地址 strobe（RAS#）<strong>和</strong>列地址 strobe（CAS#）**信号区分。</p></blockquote><h2 id="DRAM-Memory-Controller"><a href="#DRAM-Memory-Controller" class="headerlink" title="DRAM Memory Controller"></a>DRAM Memory Controller</h2><p>​DRAM内存控制器起到“承上启下”的作用：（1）向上仲裁（CPU/I/O）竞争访问权；（2）向下管理调度各DRAM的访问。其核心架构为：</p><p><img src="/2025/07/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/SRAM,%20DRAM%E5%92%8CMC/image-20250719193646279.png"></p><p>一些设计要点如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">                      +-----------------+</span><br><span class="line">CPU/I/O Requests →  | 请求仲裁逻辑     | → 胜出请求进入地址映射</span><br><span class="line">                      +-----------------+</span><br><span class="line">                                                ↓</span><br><span class="line">                                  +-----------------+</span><br><span class="line">                                   | 地址映射引擎     | → 输出 (Channel, Rank, Bank, Row, Column)</span><br><span class="line">                                  +-----------------+</span><br><span class="line">                                            ↓</span><br><span class="line">                                  +-----------------+</span><br><span class="line">                                   | DRAM命令生成器   | → 生成 ACT/READ/WRITE/PRE 序列</span><br><span class="line">                                  +-----------------+</span><br><span class="line">                                            ↓</span><br><span class="line">                                  +-----------------+</span><br><span class="line">                                   | 命令调度队列     | → 按策略排序命令 (FIFO/按库/按优先级)</span><br><span class="line">                                  +-----------------+</span><br><span class="line">                                            ↓</span><br><span class="line">                                  +-----------------+</span><br><span class="line">                                   | 电气接口驱动     | → 满足时序约束的DRAM信号输出</span><br><span class="line">                                  +-----------------+</span><br></pre></td></tr></table></figure><p>可以类比操作系统的管理：各个DRAM“类似于”各个进程（或者“库”），DRAM Memory Controller“类似于”OS。于是不难理解，其<strong>调度算法</strong>包含轮询 (Round-Robin)，最长队列优先 (LQF)，最早到期优先 (EDF)等。  </p><h2 id="SRAM-DRAM-Modeling"><a href="#SRAM-DRAM-Modeling" class="headerlink" title="SRAM, DRAM Modeling"></a>SRAM, DRAM Modeling</h2><h3 id="性能评估"><a href="#性能评估" class="headerlink" title="性能评估"></a>性能评估</h3><h4 id="评估原理"><a href="#评估原理" class="headerlink" title="评估原理"></a>评估原理</h4><p>所谓性能，其实就是读、写数据的<strong>延迟（消耗时间）</strong>。以一个DRAM做L4 LLC的系统为例，访问SRAM, DRAM的过程如下图：</p><p><img src="/2025/07/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/SRAM,%20DRAM%E5%92%8CMC/image-20250721152125483.png"></p><p>该系统的一些参数以及一些常识性的结果如下：</p><p><img src="/2025/07/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/SRAM,%20DRAM%E5%92%8CMC/image-20250721153534548.png"></p><p>以一次访问DRAM为例，访问过程如下：</p><p><img src="/2025/07/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/SRAM,%20DRAM%E5%92%8CMC/image-20250721154434002.png"></p><p>上图访问过程就是评估的原理，真实刻画了访问数据的延迟构成。</p><h4 id="评估方法"><a href="#评估方法" class="headerlink" title="评估方法"></a>评估方法</h4><ul><li>使用仿真工具：使用DRAM-sim可以快捷得到访问时间。</li><li>或者使用一些论文的模型、公式：比如zy学姐的论文On Design Space Exploration of Cache System in Multi-Chiplet Systems (DAC’25)。</li></ul><h3 id="面积、功耗评估"><a href="#面积、功耗评估" class="headerlink" title="面积、功耗评估"></a>面积、功耗评估</h3><p>具体的评估原理就略去了。只需要知道<strong>仿真工具Cacti</strong>即可。</p><h3 id="成本评估"><a href="#成本评估" class="headerlink" title="成本评估"></a>成本评估</h3><p>具体的评估原理就略去了。看论文里面的modeling。</p><blockquote><p><strong>参考文献</strong>：</p><ul><li>Memory Systems (Cache, DRAM, Disk).</li><li>Reducing Latency in an SRAM/DRAM Cache Hierarchy via a Novel Tag-Cache Architecture (DAC’14).</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机体系结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 芯片设计基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3D集成芯片</title>
      <link href="/2025/07/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/3D%E9%9B%86%E6%88%90%E8%8A%AF%E7%89%87/"/>
      <url>/2025/07/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/3D%E9%9B%86%E6%88%90%E8%8A%AF%E7%89%87/</url>
      
        <content type="html"><![CDATA[<h1 id="3D集成芯片"><a href="#3D集成芯片" class="headerlink" title="3D集成芯片"></a>3D集成芯片</h1><h2 id="3D集成与封装技术"><a href="#3D集成与封装技术" class="headerlink" title="3D集成与封装技术"></a>3D集成与封装技术</h2><h3 id="从2D-IC到3D-IC"><a href="#从2D-IC到3D-IC" class="headerlink" title="从2D IC到3D IC"></a>从2D IC到3D IC</h3><table><thead><tr><th align="center"><strong>维度</strong></th><th align="center"><strong>2D IC</strong></th><th align="center"><strong>3D IC</strong></th></tr></thead><tbody><tr><td align="center"><strong>结构</strong></td><td align="center">单层平面布局</td><td align="center">多层垂直堆叠（逻辑层、缓存层、DRAM层等）</td></tr><tr><td align="center"><strong>互连方式</strong></td><td align="center">金属线水平绕行（长距离，高RC延迟）</td><td align="center">TSV垂直直连（短距离，低RC延迟）</td></tr><tr><td align="center"><strong>互连密度</strong></td><td align="center">受限于引脚数量（带宽瓶颈）</td><td align="center">TSV密度 <strong>&gt;1000个/mm²</strong>（高带宽）</td></tr><tr><td align="center"><strong>成本、散热</strong></td><td align="center">成本低，散热快</td><td align="center">成本高，散热慢</td></tr></tbody></table><h3 id="3D封装技术"><a href="#3D封装技术" class="headerlink" title="3D封装技术"></a>3D封装技术</h3><p>​<strong>3D封装技术</strong>通过封装级堆叠独立芯片（如Apple A8处理器堆叠CPU与DRAM），使用引线键合（Wire Bonding）或微凸块连接，通信依赖<strong>片外信号</strong>。常见的有2种：</p><p><img src="/./3D%E9%9B%86%E6%88%90%E8%8A%AF%E7%89%87/image-20250719140544510.png"></p><h3 id="3D集成技术"><a href="#3D集成技术" class="headerlink" title="3D集成技术"></a>3D集成技术</h3><p>​该技术产生的是<strong>3D IC</strong>，通过<strong>硅通孔（TSV）</strong> 实现层间垂直互联，提供<strong>片内级</strong>高密度连接（微米级间距）。该技术具有下面的优势：</p><ul><li><strong>线长缩减（Wire Length Reduction）</strong>：带来通信延迟、功耗的减少。</li><li><strong>内存带宽提升（Memory Bandwidth Improvement）</strong>：使用3D架构，可以<strong>堆叠DRAM作末级缓存（LLC）<strong>或者</strong>堆叠DRAM作主存</strong>。</li><li><strong>垂直异构集成（Heterogeneous Integration）</strong>：不同功能层（逻辑/存储/光子）可独立制造，通过TSV互联。</li><li><strong>成本效益（Cost-effective Architecture）</strong>：分割大芯片为小芯片堆叠，提升总体良率。（然而TSV会增加成本）</li></ul><h2 id="3D堆叠处理器设计"><a href="#3D堆叠处理器设计" class="headerlink" title="3D堆叠处理器设计"></a>3D堆叠处理器设计</h2><h2 id="3D-NoC设计"><a href="#3D-NoC设计" class="headerlink" title="3D NoC设计"></a>3D NoC设计</h2><h2 id="3D散热模型"><a href="#3D散热模型" class="headerlink" title="3D散热模型"></a>3D散热模型</h2><h2 id="3D成本模型"><a href="#3D成本模型" class="headerlink" title="3D成本模型"></a>3D成本模型</h2><blockquote><p><strong>参考文献</strong>：Die-stacking Architecture.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机体系结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 芯片设计基础 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
